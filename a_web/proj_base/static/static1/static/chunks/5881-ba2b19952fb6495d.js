"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5881],{14873:function(e,t,n){n.d(t,{$k:function(){return f},MD:function(){return l},Px:function(){return a},bv:function(){return d},ju:function(){return c},ts:function(){return s},up:function(){return u}});var r=n(55322),i=n(36183),o=n(86990);let u=(0,i.atom)({process:null,media:null}),l=e=>o.e.set(u,t=>({...t,process:e})),a=e=>o.e.set(u,t=>({...t,media:e})),s=(0,i.atom)({}),c=e=>{o.e.set(s,t=>({...t,[e.identity]:e}))},d=e=>{o.e.set(s,t=>(0,r.Uy)(t,t=>{delete t[e]}))},f=e=>o.e.set(s,e||{})},62719:function(e,t,n){n.d(t,{Wt:function(){return b},aO:function(){return S},XP:function(){return l},Gq:function(){return s},pq:function(){return a},j8:function(){return c},DH:function(){return d.DH},dD:function(){return V},Y:function(){return d.Y},jN:function(){return z},Qb:function(){return y},Yu:function(){return j},Sj:function(){return Y}});var r=n(63488),i=n(36183),o=n(35588),u=n(14873);let l=()=>(0,i.useAtomValue)(u.up),a=e=>(0,i.useAtomValue)((0,r.useMemo)(()=>(0,o.selectAtom)(u.ts,t=>t[e]),[e])),s=e=>(0,i.useAtomValue)((0,r.useMemo)(()=>(0,o.selectAtom)(u.ts,t=>Object.values(t).filter(t=>t.roomName===e).map(e=>e.identity)),[e])),c=e=>(0,i.useAtomValue)((0,r.useMemo)(()=>(0,o.selectAtom)(u.ts,t=>Object.values(t).filter(t=>t.roomName===e).length),[e]));var d=n(33534),f=n(85997),m=n(55874),h=n(76877),p=n(35103),x=n(54592);let g=(0,f.kP)("1234567890abcdefghijklmnopqrstuvwxyz")(8),v=(0,p.E)("web-session"),b=()=>h.S_?localStorage.getItem(v)||(localStorage.setItem(v,g),g):"",j=()=>{let e=(0,m.aF)(),t=(0,d.Y)(),n=(0,d.DH)();return(0,r.useMemo)(()=>{let r=b();return n?t?"owner-".concat(t.id):r:e&&e.isSignedIn?e.user.id.toLowerCase():r},[t,n,e])},y=()=>(0,i.useAtomValue)(x.Kf);var w=n(33157),k=n(13205),C=n(86836);let N=()=>{let e=(0,k.useAggregationSelector)(e=>e.url);return{adminUrl:(0,i.useAtomValue)(C._k),...e}},z=()=>{let{adminUrl:e}=N();return(0,r.useCallback)(t=>{if(!e)return"";let n=new URL(e.replace(/\/$/,"")),r=(0,w.LP)();return r&&n.searchParams.set("token",r),"".concat(n.protocol,"//").concat(n.host).concat(n.pathname).concat(t||"").concat(n.search)},[e])};var M=n(86990),A=n(8057);let Y=e=>(0,i.useAtomValue)((0,o.selectAtom)(A.q,(0,r.useCallback)(t=>e(t),[]))),V=()=>Y((0,r.useCallback)(e=>L(e),[])),L=e=>(e.sm||e.md||!e.sm)&&!e.lg,S=()=>M.e.get(A.q)},11681:function(e,t,n){n.d(t,{T:function(){return i}});var r=n(71590);let i=e=>{let{className:t}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.4em",height:"1.4em",viewBox:"0 0 32 32",className:t,children:(0,r.jsx)("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"})})}},64887:function(e,t,n){n.r(t),n.d(t,{MotionButtonBase:function(){return u}});var r=n(71590),i=n(63488),o=n(4711);let u=(0,i.forwardRef)((e,t)=>{let{children:n,...i}=e;return(0,r.jsx)(o.m.button,{initial:!0,whileFocus:{scale:1.02},whileHover:{scale:1.02},whileTap:{scale:.95},...i,ref:t,children:n})});u.displayName="MotionButtonBase"},58704:function(e,t,n){n.d(t,{EM:function(){return r.MotionButtonBase},nt:function(){return l},Sn:function(){return d}});var r=n(64887),i=n(71590),o=n(63488),u=n(29318);let l=(0,o.forwardRef)((e,t)=>{let{className:n,children:o,...l}=e;return(0,i.jsx)(r.MotionButtonBase,{ref:t,className:(0,u.Y2)("inline-flex rounded-full bg-accent p-2 text-center leading-none center hover:opacity-90",n),...l,children:o})});l.displayName="RoundedIconButton";var a=n(31721),s=n(62291);let c=(0,n(51789).tv)({base:"inline-flex select-none cursor-default items-center gap-2 justify-center rounded-lg py-2 px-3 text-sm outline-offset-2 transition active:transition-none",variants:{variant:{primary:(0,a.Z)("bg-accent text-zinc-100","hover:contrast-[1.10] active:contrast-125","font-semibold","disabled:cursor-not-allowed disabled:bg-gray-400 disabled:opacity-30 disabled:dark:bg-gray-800 disabled:dark:text-zinc-50","dark:text-neutral-800"),secondary:(0,a.Z)("group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20","disabled:cursor-not-allowed disabled:bg-gray-400 disabled:opacity-30 disabled:dark:bg-gray-800 disabled:dark:text-zinc-50")}}}),d=e=>{let{variant:t="primary",className:n,isLoading:u,href:l,...a}=e,d=u?f:o.Fragment;return(0,i.jsx)(d,{children:l?(0,i.jsx)(s.default,{href:l,className:c({variant:t,className:n}),...a}):(0,i.jsx)(r.MotionButtonBase,{className:c({variant:t,className:n}),...a})})},f=e=>{let{children:t}=e;return(0,i.jsxs)("div",{className:"relative",children:[t,(0,i.jsx)("div",{className:"absolute inset-0 z-[1] flex items-center justify-center",children:(0,i.jsx)("div",{className:"loading loading-spinner size-5"})})]})}},64815:function(e,t,n){n.d(t,{t:function(){return u}});var r=n(71590),i=n(80328),o=n(4711);let u=e=>{let{onClick:t,zIndex:n}=e;return(0,r.jsx)(i.aV,{asChild:!0,children:(0,r.jsx)(o.m.div,{onClick:t,className:"fixed inset-0 z-[11] bg-zinc-50/80 dark:bg-neutral-900/80",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{zIndex:n}})})}},84956:function(e,t,n){n.d(t,{fY:function(){return l},iz:function(){return o},xt:function(){return u}});var r=n(71590);n(63488);var i=n(29318);let o=e=>{let{className:t,...n}=e;return(0,r.jsx)("hr",{className:(0,i.Y2)("my-4 h-[0.5px] border-0 bg-black !bg-opacity-30 dark:bg-white",t),...n})},u=e=>{let{className:t,...n}=e;return(0,r.jsx)("span",{className:(0,i.Y2)("mx-4 inline-block h-full w-[0.5px] select-none bg-black !bg-opacity-30 text-transparent dark:bg-white",t),...n,children:"w"})},l=e=>{let{className:t}=e;return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",color:"currentColor",shapeRendering:"geometricPrecision",viewBox:"0 0 24 24",className:t,children:(0,r.jsx)("path",{d:"M16.88 3.549L7.12 20.451"})})}},74723:function(e,t,n){n.d(t,{fY:function(){return r.fY},iz:function(){return r.iz},xt:function(){return r.xt}});var r=n(84956)},96859:function(e,t,n){n.d(t,{a6:function(){return l},Y5:function(){return i.Y},Lf:function(){return r.Lf},Vu:function(){return i.V}});var r=n(29660),i=n(99003);n(17854);var o=n(71590),u=n(63488);let l=e=>{let t=(0,u.useContext)(e);return(0,u.memo)(n=>{let{children:r}=n;return(0,o.jsx)(e.Provider,{value:t,children:r})})}},29660:function(e,t,n){n.d(t,{Lf:function(){return l},S4:function(){return u},p4:function(){return a},w1:function(){return o}});var r=n(63488),i=n(36183);let o={},u=(0,r.createContext)(null),l=()=>(0,r.useContext)(u),a=(0,i.atom)([])},17854:function(e,t,n){n.d(t,{u:function(){return C}});var r=n(71590),i=n(80328),o=n(63488),u=n(59908),l=n(4711),a=n(36183),s=n(62719),c=n(11681),d=n(64815),f=n(74723),m=n(82314),h=n(32031),p=n(98517),x=n(98177),g=n(29318),v=n(86990),b=n(16276),j=n(29660);let y={scale:1,opacity:1},w={scale:.96,opacity:0},k={...m.Q0},C=(0,o.memo)(function(e){let{item:t,index:n,onClose:m,children:C}=e,N=(0,a.useSetAtom)(j.p4),z=(0,h.$)(()=>{N(e=>e.filter(e=>e.id!==t.id)),null==m||m(!1)}),M=(0,o.useCallback)(e=>{e||z()},[z]),{CustomModalComponent:A,modalClassName:Y,content:V,title:L,clickOutsideToDismiss:S,modalContainerClassName:T,wrapper:E=o.Fragment,max:O}=t,P=(0,o.useMemo)(()=>({zIndex:99+n}),[n]),B=(0,o.useCallback)(e=>{(0,x.UW)(e),z()},[z]),D=(0,s.dD)(),I=(0,p.M)(),R=(0,u.E)();(0,o.useEffect)(()=>{D||R.start(y)},[R,D]);let U=(0,o.useCallback)(()=>{R.start({scale:1.05,transition:{duration:.06}}).then(()=>{I.current||R.start({scale:1})})},[R]),_=(0,o.useRef)(null),$=(0,o.useMemo)(()=>({dismiss:z}),[z]),F=(0,o.useMemo)(()=>({...$,ref:_}),[$]),q=(0,r.jsx)(j.S4.Provider,{value:F,children:C||(0,o.createElement)(V,$)});if(D){let e=v.e.get(b.G).length;return(0,r.jsx)(E,{children:(0,r.jsx)(b.d,{title:L,defaultOpen:!0,zIndex:1e3+e,onOpenChange:e=>{e||setTimeout(()=>{z()},1e3)},content:q})})}return A?(0,r.jsx)(E,{children:(0,r.jsx)(i.fC,{open:!0,onOpenChange:M,children:(0,r.jsxs)(i.h_,{children:[(0,r.jsx)(d.t,{zIndex:20}),(0,r.jsx)(i.VY,{asChild:!0,children:(0,r.jsx)("div",{className:(0,g.Y2)("fixed inset-0 z-20 overflow-auto",T),onClick:S?B:void 0,children:(0,r.jsx)("div",{className:"contents",onClick:x.UW,children:(0,r.jsx)(A,{children:q})})})})]})})}):(0,r.jsx)(E,{children:(0,r.jsx)(i.fC,{open:!0,onOpenChange:M,children:(0,r.jsxs)(i.h_,{children:[(0,r.jsx)(d.t,{zIndex:20}),(0,r.jsx)(i.VY,{asChild:!0,children:(0,r.jsx)("div",{className:(0,g.Y2)("fixed inset-0 z-20 flex center",T),onClick:S?B:U,children:(0,r.jsxs)(l.m.div,{style:P,exit:w,initial:w,animate:R,transition:k,className:(0,g.Y2)("relative flex flex-col overflow-hidden rounded-lg","bg-zinc-50/80 dark:bg-neutral-900/80","p-2 shadow-2xl shadow-stone-300 backdrop-blur-sm dark:shadow-stone-800",O?"h-[90vh] w-[90vw]":"max-h-[70vh] min-w-[300px] max-w-[90vw] lg:max-h-[calc(100vh-20rem)] lg:max-w-[70vw]","border border-slate-200 dark:border-neutral-800",Y),onClick:x.UW,children:[(0,r.jsx)(i.Dx,{className:"shrink-0 px-4 py-2 text-lg font-medium",children:L}),(0,r.jsx)(f.iz,{className:"my-2 shrink-0 border-slate-200 opacity-80 dark:border-neutral-800"}),(0,r.jsx)("div",{className:"min-h-0 shrink grow overflow-auto px-4 py-2",children:q}),(0,r.jsx)(i.GG,{onClick:z,className:"absolute right-0 top-0 z-[9] p-5",children:(0,r.jsx)(c.T,{})})]})})})]})})})})},99003:function(e,t,n){n.d(t,{V:function(){return f},Y:function(){return h}});var r=n(71590),i=n(63488),o=n(15786),u=n(36183),l=n(97270),a=n(86990),s=n(29660),c=n(17854);let d=()=>{let e=(0,l.usePathname)();(0,i.useEffect)(()=>{m.dismissAll()},[e])},f=e=>{let t=(0,i.useId)(),n=(0,i.useRef)(0),{wrapper:r}=e||{};return{present:(0,i.useCallback)(e=>{let i="".concat(t,"-").concat(++n.current);return a.e.set(s.p4,t=>{var n;let o={...e,id:null!==(n=e.id)&&void 0!==n?n:i,wrapper:r};return s.w1[o.id]=o,t.concat(o)}),()=>{a.e.set(s.p4,e=>e.filter(e=>e.id!==i))}},[t]),...m}},m={dismiss(e){a.e.set(s.p4,t=>t.filter(t=>t.id!==e))},dismissTop(){a.e.set(s.p4,e=>e.slice(0,-1))},dismissAll(){a.e.set(s.p4,[])}},h=e=>{let{children:t}=e;return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(p,{})]})},p=()=>{let e=(0,u.useAtomValue)(s.p4);return d(),(0,r.jsx)(o.M,{mode:"popLayout",children:e.map((e,t)=>(0,r.jsx)(c.u,{item:e,index:t},e.id))})}},16276:function(e,t,n){n.d(t,{d:function(){return a},G:function(){return l}});var r=n(71590),i=n(63488),o=n(36183),u=n(98584);let l=(0,o.atom)([]),a=e=>{var t;let{content:n,children:a,zIndex:s=998,title:c,dismissible:d=!0,defaultOpen:f}=e,[m,h]=(0,i.useState)(null!==(t=e.open)&&void 0!==t?t:f),p=(0,i.useMemo)(()=>{let t={onOpenChange:h};return void 0!==m&&(t.open=m),void 0!==e.onOpenChange&&(t.onOpenChange=t=>{var n;h(t),null===(n=e.onOpenChange)||void 0===n||n.call(e,t)}),t},[e,m,h]);(0,i.useEffect)(()=>{void 0!==e.open&&h(e.open)},[e.open]);let[x,g]=(0,i.useState)(),v=(0,o.useStore)();(0,i.useEffect)(()=>{if(x)return v.set(l,e=>e.concat(x)),()=>{v.set(l,e=>e.filter(e=>e!==x))}},[x,v]);let b=u.d.Root;return(0,r.jsxs)(b,{dismissible:d,...p,children:[(0,r.jsx)(u.d.Trigger,{asChild:!0,children:a}),(0,r.jsxs)(u.d.Portal,{children:[(0,r.jsxs)(u.d.Content,{style:{zIndex:s},className:"fixed inset-x-0 bottom-0 mt-24 flex max-h-[95vh] flex-col rounded-t-[10px] bg-base-100 p-4",children:[d&&(0,r.jsx)("div",{className:"mx-auto mb-8 h-1.5 w-12 shrink-0 rounded-full bg-zinc-300 dark:bg-neutral-800"}),c&&(0,r.jsx)(u.d.Title,{className:"-mt-4 mb-4 flex justify-center text-lg font-medium",children:c}),i.isValidElement(n)?n:"function"==typeof n?i.createElement(n):null,(0,r.jsx)("div",{ref:g})]}),(0,r.jsx)(u.d.Overlay,{className:"fixed inset-0 bg-neutral-800/40",style:{zIndex:s-1}})]})]})}},82314:function(e,t,n){n.d(t,{$O:function(){return i},Ew:function(){return l},Q0:function(){return o},t0:function(){return u},y_:function(){return r}});let r={type:"spring",bounce:10,stiffness:140,damping:8},i={type:"spring",damping:24},o={type:"spring",stiffness:300,damping:20},u={duration:.35,type:"spring",stiffness:120,damping:20},l={type:"spring",damping:10,stiffness:100}},32031:function(e,t,n){n.d(t,{$:function(){return i}});var r=n(63488);let i=e=>{let t=(0,r.useRef)(e);return t.current=e,(0,r.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current(...n)},[])}},98517:function(e,t,n){n.d(t,{M:function(){return i}});var r=n(63488);let i=()=>{let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!1,()=>{e.current=!0}),[]),e}},98177:function(e,t,n){n.d(t,{KN:function(){return u},PF:function(){return i},UW:function(){return r},sj:function(){return o}});let r=e=>e.stopPropagation(),i=e=>e.preventDefault(),o=e=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){e();return}document.startViewTransition?document.startViewTransition(e):e()};function u(e){return e.replace(/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g,"\\$&")}},29318:function(e,t,n){n.d(t,{D6:function(){return u},Y2:function(){return o}});var r=n(31721),i=n(38798);let o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,r.Z)(t))},u=e=>{try{return JSON.parse(e)}catch(e){return null}}},191:function(e,t,n){n.d(t,{Ds:function(){return i},P2:function(){return o},TS:function(){return c},TV:function(){return s},U2:function(){return f},UP:function(){return a},Xh:function(){return l},jj:function(){return m},mN:function(){return d},o8:function(){return u}});var r=void 0;let i=function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];let l=this,a=r&&void 0===n;void 0!==n&&clearTimeout(n),n=setTimeout(()=>{n=void 0,r||e.apply(l,o)},t),a&&e.apply(l,o)}},o=function(e,t){let n,i,o,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=()=>{n=void 0,void 0!==i&&(e.apply(r,i),i=void 0,o=Date.now(),n=setTimeout(l,t))};return function(){for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];let c=Date.now();void 0===o&&!1===u.leading&&(o=c);let d=t-(c-(null!=o?o:0));d<=0||d>t?(void 0!==n&&clearTimeout(n),e.apply(this,a),o=c,n=setTimeout(l,t)):!1!==u.trailing&&(i=a,void 0===n&&(n=setTimeout(l,d)))}},u=e=>void 0===e,l=e=>{if(Array.isArray(e))return e.map(l);if("object"!=typeof e||null===e)return e;{let t={};for(let n in e)t[n]=l(e[n]);return t}},a=e=>e[Math.floor(Math.random()*e.length)],s=e=>{let t=[...e];for(let e=0;e<t.length;e++){let n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r={};for(let e of t)for(let t in e)r[t]=e[t];return r};function d(e,t){let n=new Set;return e.filter(e=>{let r=t(e);return!n.has(r)&&(n.add(r),!0)})}function f(e,t){let n=t.split("."),r=e;for(let e of n)if(void 0===(r=r[e]))break;return r}let m=e=>Array.from(new Set(e))},35103:function(e,t,n){n.d(t,{E:function(){return r}});let r=e=>"@".concat("shiro","/").concat(e)}}]);