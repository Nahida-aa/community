(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6470],{77947:function(e,t,n){Promise.resolve().then(n.bind(n,59278))},59278:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(71590),u=n(63488),o=n(79907),i=n(74594),l=n(85876),a=n(58704);function c(e){let{error:t,reset:n}=e;return(0,u.useEffect)(()=>{console.error(t)},[t]),(0,r.jsxs)("html",{children:[(0,r.jsx)("head",{children:(0,r.jsx)("title",{children:"禁止访问或者 API 服务出现问题"})}),(0,r.jsx)("body",{children:(0,r.jsxs)(l.J,{children:[(0,r.jsx)("h1",{className:"mb-4",children:"禁止访问或者 API 服务出现问题"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(o.X,{features:i.H,children:(0,r.jsx)(a.Sn,{onClick:location.reload,children:"重试"})})})]})})]})}},14873:function(e,t,n){"use strict";n.d(t,{$k:function(){return d},MD:function(){return l},Px:function(){return a},bv:function(){return f},ju:function(){return s},ts:function(){return c},up:function(){return i}});var r=n(55322),u=n(36183),o=n(86990);let i=(0,u.atom)({process:null,media:null}),l=e=>o.e.set(i,t=>({...t,process:e})),a=e=>o.e.set(i,t=>({...t,media:e})),c=(0,u.atom)({}),s=e=>{o.e.set(c,t=>({...t,[e.identity]:e}))},f=e=>{o.e.set(c,t=>(0,r.Uy)(t,t=>{delete t[e]}))},d=e=>o.e.set(c,e||{})},62719:function(e,t,n){"use strict";n.d(t,{Wt:function(){return b},aO:function(){return H},XP:function(){return l},Gq:function(){return c},pq:function(){return a},j8:function(){return s},DH:function(){return f.DH},dD:function(){return B},Y:function(){return f.Y},jN:function(){return N},Qb:function(){return A},Yu:function(){return y},Sj:function(){return E}});var r=n(63488),u=n(36183),o=n(35588),i=n(14873);let l=()=>(0,u.useAtomValue)(i.up),a=e=>(0,u.useAtomValue)((0,r.useMemo)(()=>(0,o.selectAtom)(i.ts,t=>t[e]),[e])),c=e=>(0,u.useAtomValue)((0,r.useMemo)(()=>(0,o.selectAtom)(i.ts,t=>Object.values(t).filter(t=>t.roomName===e).map(e=>e.identity)),[e])),s=e=>(0,u.useAtomValue)((0,r.useMemo)(()=>(0,o.selectAtom)(i.ts,t=>Object.values(t).filter(t=>t.roomName===e).length),[e]));var f=n(33534),d=n(85997),m=n(55874),v=n(76877),h=n(35103),g=n(54592);let p=(0,d.kP)("1234567890abcdefghijklmnopqrstuvwxyz")(8),x=(0,h.E)("web-session"),b=()=>v.S_?localStorage.getItem(x)||(localStorage.setItem(x,p),p):"",y=()=>{let e=(0,m.aF)(),t=(0,f.Y)(),n=(0,f.DH)();return(0,r.useMemo)(()=>{let r=b();return n?t?"owner-".concat(t.id):r:e&&e.isSignedIn?e.user.id.toLowerCase():r},[t,n,e])},A=()=>(0,u.useAtomValue)(g.Kf);var j=n(33157),w=n(13205),k=n(86836);let V=()=>{let e=(0,w.useAggregationSelector)(e=>e.url);return{adminUrl:(0,u.useAtomValue)(k._k),...e}},N=()=>{let{adminUrl:e}=V();return(0,r.useCallback)(t=>{if(!e)return"";let n=new URL(e.replace(/\/$/,"")),r=(0,j.LP)();return r&&n.searchParams.set("token",r),"".concat(n.protocol,"//").concat(n.host).concat(n.pathname).concat(t||"").concat(n.search)},[e])};var M=n(86990),S=n(8057);let E=e=>(0,u.useAtomValue)((0,o.selectAtom)(S.q,(0,r.useCallback)(t=>e(t),[]))),B=()=>E((0,r.useCallback)(e=>z(e),[])),z=e=>(e.sm||e.md||!e.sm)&&!e.lg,H=()=>M.e.get(S.q)},85876:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(71590),u=n(29318),o=n(62784);let i=e=>{let{children:t,className:n}=e;return(0,r.jsxs)("div",{className:(0,u.Y2)("mx-auto mt-14 max-w-3xl px-2 lg:mt-[80px] lg:px-0 2xl:max-w-4xl","[&_header.prose]:mb-[80px]",n),children:[t,(0,r.jsx)(o.HeaderHideBg,{})]})}},62784:function(e,t,n){"use strict";n.r(t),n.d(t,{HeaderHideBg:function(){return i},useHideHeaderBgInRoute:function(){return o},useSetHeaderMetaInfo:function(){return u.n2}});var r=n(63488),u=n(34601);let o=()=>{let e=(0,u.dK)();(0,r.useEffect)(()=>(e(!1),()=>{e(!0)}),[])},i=()=>(o(),null)},34601:function(e,t,n){"use strict";n.d(t,{BA:function(){return g},Ij:function(){return y},bV:function(){return v},dK:function(){return m},iK:function(){return j},n2:function(){return b},xl:function(){return x}});var r=n(63488),u=n(36183),o=n(62719),i=n(86990),l=n(98731);let a=(0,u.atom)(""),c=(0,u.atom)(""),s=(0,u.atom)(""),f=(0,u.atom)(!0),d=()=>(0,u.useAtomValue)(f),m=()=>(0,u.useSetAtom)(f),v=()=>1-g(),h=()=>v()>0,g=()=>{let e=(0,o.dD)(),t=d()||e;return(0,l.nZ)(e=>t?e>=50?1:Math.floor(e/50*100)/100:0,[t])},p=(0,u.atom)(e=>{let t=e(a),n=e(c);return""!==t&&""!==n}),x=()=>{let e=h();return(0,u.useAtomValue)(p)&&!e},b=()=>((0,r.useEffect)(()=>()=>{i.e.set(a,""),i.e.set(c,""),i.e.set(s,"")},[]),e=>{let{title:t,description:n,slug:r}=e;i.e.set(a,t),i.e.set(c,n),r&&i.e.set(s,r)}),y=()=>({title:(0,u.useAtomValue)(a),description:(0,u.useAtomValue)(c),slug:(0,u.useAtomValue)(s)}),A=(0,u.atom)(e=>{let t=e(a),n=e(c);return""!==t&&""!==n}),j=()=>(0,u.useAtomValue)(A)},64887:function(e,t,n){"use strict";n.r(t),n.d(t,{MotionButtonBase:function(){return i}});var r=n(71590),u=n(63488),o=n(4711);let i=(0,u.forwardRef)((e,t)=>{let{children:n,...u}=e;return(0,r.jsx)(o.m.button,{initial:!0,whileFocus:{scale:1.02},whileHover:{scale:1.02},whileTap:{scale:.95},...u,ref:t,children:n})});i.displayName="MotionButtonBase"},58704:function(e,t,n){"use strict";n.d(t,{EM:function(){return r.MotionButtonBase},nt:function(){return l},Sn:function(){return f}});var r=n(64887),u=n(71590),o=n(63488),i=n(29318);let l=(0,o.forwardRef)((e,t)=>{let{className:n,children:o,...l}=e;return(0,u.jsx)(r.MotionButtonBase,{ref:t,className:(0,i.Y2)("inline-flex rounded-full bg-accent p-2 text-center leading-none center hover:opacity-90",n),...l,children:o})});l.displayName="RoundedIconButton";var a=n(31721),c=n(62291);let s=(0,n(51789).tv)({base:"inline-flex select-none cursor-default items-center gap-2 justify-center rounded-lg py-2 px-3 text-sm outline-offset-2 transition active:transition-none",variants:{variant:{primary:(0,a.Z)("bg-accent text-zinc-100","hover:contrast-[1.10] active:contrast-125","font-semibold","disabled:cursor-not-allowed disabled:bg-gray-400 disabled:opacity-30 disabled:dark:bg-gray-800 disabled:dark:text-zinc-50","dark:text-neutral-800"),secondary:(0,a.Z)("group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20","disabled:cursor-not-allowed disabled:bg-gray-400 disabled:opacity-30 disabled:dark:bg-gray-800 disabled:dark:text-zinc-50")}}}),f=e=>{let{variant:t="primary",className:n,isLoading:i,href:l,...a}=e,f=i?d:o.Fragment;return(0,u.jsx)(f,{children:l?(0,u.jsx)(c.default,{href:l,className:s({variant:t,className:n}),...a}):(0,u.jsx)(r.MotionButtonBase,{className:s({variant:t,className:n}),...a})})},d=e=>{let{children:t}=e;return(0,u.jsxs)("div",{className:"relative",children:[t,(0,u.jsx)("div",{className:"absolute inset-0 z-[1] flex items-center justify-center",children:(0,u.jsx)("div",{className:"loading loading-spinner size-5"})})]})}},29318:function(e,t,n){"use strict";n.d(t,{D6:function(){return i},Y2:function(){return o}});var r=n(31721),u=n(38798);let o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,u.m6)((0,r.Z)(t))},i=e=>{try{return JSON.parse(e)}catch(e){return null}}},191:function(e,t,n){"use strict";n.d(t,{Ds:function(){return u},P2:function(){return o},TS:function(){return s},TV:function(){return c},U2:function(){return d},UP:function(){return a},Xh:function(){return l},jj:function(){return m},mN:function(){return f},o8:function(){return i}});var r=void 0;let u=function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var u=arguments.length,o=Array(u),i=0;i<u;i++)o[i]=arguments[i];let l=this,a=r&&void 0===n;void 0!==n&&clearTimeout(n),n=setTimeout(()=>{n=void 0,r||e.apply(l,o)},t),a&&e.apply(l,o)}},o=function(e,t){let n,u,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=()=>{n=void 0,void 0!==u&&(e.apply(r,u),u=void 0,o=Date.now(),n=setTimeout(l,t))};return function(){for(var r=arguments.length,a=Array(r),c=0;c<r;c++)a[c]=arguments[c];let s=Date.now();void 0===o&&!1===i.leading&&(o=s);let f=t-(s-(null!=o?o:0));f<=0||f>t?(void 0!==n&&clearTimeout(n),e.apply(this,a),o=s,n=setTimeout(l,t)):!1!==i.trailing&&(u=a,void 0===n&&(n=setTimeout(l,f)))}},i=e=>void 0===e,l=e=>{if(Array.isArray(e))return e.map(l);if("object"!=typeof e||null===e)return e;{let t={};for(let n in e)t[n]=l(e[n]);return t}},a=e=>e[Math.floor(Math.random()*e.length)],c=e=>{let t=[...e];for(let e=0;e<t.length;e++){let n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r={};for(let e of t)for(let t in e)r[t]=e[t];return r};function f(e,t){let n=new Set;return e.filter(e=>{let r=t(e);return!n.has(r)&&(n.add(r),!0)})}function d(e,t){let n=t.split("."),r=e;for(let e of n)if(void 0===(r=r[e]))break;return r}let m=e=>Array.from(new Set(e))},35103:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});let r=e=>"@".concat("shiro","/").concat(e)},98731:function(e,t,n){"use strict";n.d(t,{D3:function(){return h},ic:function(){return A},pp:function(){return x},zY:function(){return y},Vt:function(){return p},nZ:function(){return b}});var r=n(71590),u=n(63488),o=n(8585),i=n(36183),l=n(86990);let a=(0,i.atom)(!1),c=e=>l.e.set(a,e);var s=n(35588);let f=e=>{let t=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,i.useAtomValue)((0,s.selectAtom)(e,(0,u.useCallback)(e=>t(e),n)))};return t.__atom=e,t};var d=n(191);let m=(0,i.atom)(0),v=(0,i.atom)(null),h=e=>{let{children:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{}),t]})},g=()=>{let e=(0,i.useSetAtom)(m),t=(0,i.useSetAtom)(v),n=(0,u.useRef)(0),r=(0,u.useRef)(!1);return(0,o.L)(()=>{let o=(0,d.P2)(()=>{r.current||(c(!0),r.current=!0);let o=document.documentElement.scrollTop;t(n.current-o>0?"up":"down"),n.current=o,(0,u.startTransition)(()=>{e(n.current)})},16,{leading:!1});return window.addEventListener("scroll",o),o(),()=>{window.removeEventListener("scroll",o)}},[]),null},p=()=>(0,i.useAtomValue)(m),x=()=>(0,i.useAtomValue)(v),b=f(m),y=f(v),A=e=>(0,i.useAtomValue)((0,u.useMemo)(()=>(0,i.atom)(t=>{let n=t(m),r=t(v);return n>e&&"up"===r}),[e]))},8585:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var r=n(63488);let u="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},79907:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(63488),u=n(68836),o=n(35560);function i({children:e,features:t,strict:n=!1}){let[,i]=(0,r.useState)(!l(t)),a=(0,r.useRef)(void 0);if(!l(t)){let{renderer:e,...n}=t;a.current=e,(0,o.K)(n)}return(0,r.useEffect)(()=>{l(t)&&t().then(({renderer:e,...t})=>{(0,o.K)(t),a.current=e,i(!0)})},[]),r.createElement(u.u.Provider,{value:{renderer:a.current,strict:n}},e)}function l(e){return"function"==typeof e}}},function(e){e.O(0,[3595,9805,3623,5874,5322,2636,2356,633,4594,5268,759,9013,1744],function(){return e(e.s=77947)}),_N_E=e.O()}]);